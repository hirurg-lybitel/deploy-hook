# deploy-hook

Простой Node.js сервер для автоматизации деплоя через вебхуки (например, из GitHub или GitLab).

## Назначение
- Принимает POST-запросы на эндпоинт `/webhook`.
- Проверяет подпись запроса (HMAC SHA256).
- При успешной проверке запускает shell-скрипт (например, для деплоя или обновления контейнеров).

## Быстрый старт
1. Установите зависимости:
   ```sh
   npm install
   ```
2. Создайте файл `.env` с переменными:
   ```env
   SECRET=your_webhook_secret
   PORT=60112
   ```
3. Запустите сервер:
   ```sh
   node index.js
   ```
4. Настройте ваш сервис (например, GitHub) на отправку вебхуков на:
   ```
   http://<ваш_сервер>:<PORT>/webhook
   ```

## Примечания
- Скрипт для деплоя должен быть доступен серверу (например, через volume или на хосте).
- Для автозапуска используйте pm2 или systemd.
- Для работы с реверс-прокси из контейнера используйте адрес `host.docker.internal` (и настройте `extra_hosts` при необходимости). 